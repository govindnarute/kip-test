{"version":3,"sources":["../../../src/models/images/ImageModelFactory.js"],"names":["ImagesModelFactory","define","sequelize","ModelDefinitionBuilder","properties","authorId","type","Sequelize","INTEGER","allowNull","name","STRING","status","TINYINT","defaultValue","ImageStatus","Pending","Object","assign","options","scopes","byStatus","where"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;;;;;;;AAUA;;;;AAIA;;;;AAIO,MAAMA,kBAAN,CAAyB;AAC5B;;;;AAIA,WAAOC,MAAP,CAAcC,SAAd,EAAyB;AACrB;;;AAGA,eAAOA,UAAUD,MAAV,CACH,OADG,EAEHE,+CAAuBC,UAAvB,CAAkC;AAC9BC,sBAAU;AACNC,sBAAMJ,UAAUK,SAAV,CAAoBC,OADpB;AAENC,2BAAW;AAFL,aADoB;AAK9BC,kBAAM;AACFJ,sBAAMJ,UAAUK,SAAV,CAAoBI,MAApB,CAA2B,GAA3B,CADJ;AAEFF,2BAAW;AAFT,aALwB;AAS9BG,oBAAQ;AACJN,sBAAMJ,UAAUK,SAAV,CAAoBM,OADtB;AAEJC,8BAAcC,oBAAYC,OAFtB;AAGJP,2BAAW;AAHP;AATsB,SAAlC,CAFG,EAiBHQ,OAAOC,MAAP,CAAcf,+CAAuBgB,OAAvB,CAA+B,QAA/B,CAAd,EAAwD;AACpDC,oBAAQ;AACJC,0BAAWT,WAAW;AAClBU,2BAAO;AACHV;AADG;AADW,iBAAX;AADP;AAD4C,SAAxD,CAjBG,CAAP;AA2BH;AApC2B;QAAnBZ,kB,GAAAA,kB","file":"ImageModelFactory.js","sourcesContent":["import { ModelDefinitionBuilder } from '../../base/ModelDefinitionBuilder';\nimport { ImageStatus } from '../../resources/images';\n\n/**\n * @typedef {Object} ImagesInstanceAttributes\n * @property {number} id\n * @property {number} authorId\n * @property {string} name\n * @property {number} status\n * @property {number} createdAt\n * @property {number} updatedAt\n */\n\n/**\n * @typedef {sequelize.Instance<ImagesInstanceAttributes>} ImagesInstance\n */\n\n/**\n * @typedef {sequelize.Model<ImagesInstance, ImagesInstanceAttributes>} ImagesModel\n */\n\nexport class ImagesModelFactory {\n    /**\n     * @param {sequelize.Sequelize} sequelize\n     * @return {ImagesModel}\n     */\n    static define(sequelize) {\n        /**\n         * @type {ImagesModel}\n         */\n        return sequelize.define(\n            'Image',\n            ModelDefinitionBuilder.properties({\n                authorId: {\n                    type: sequelize.Sequelize.INTEGER,\n                    allowNull: false,\n                },\n                name: {\n                    type: sequelize.Sequelize.STRING(255),\n                    allowNull: false,\n                },\n                status: {\n                    type: sequelize.Sequelize.TINYINT,\n                    defaultValue: ImageStatus.Pending,\n                    allowNull: false,\n                },\n            }),\n            Object.assign(ModelDefinitionBuilder.options('images'), {\n                scopes: {\n                    byStatus:  status => ({\n                        where: {\n                            status,\n                        }\n                    }),\n                }\n            })\n        );\n    }\n}\n"]}