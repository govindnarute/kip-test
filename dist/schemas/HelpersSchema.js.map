{"version":3,"sources":["../../src/schemas/HelpersSchema.js"],"names":["Joi","HelpersSchema","baseIdNameSchema","isRequired","allowNull","maxNameLength","baseSchema","id","number","integer","positive","required","name","string","max","trim","Object","assign","allow","schema","object","keys","optional"],"mappings":";;;;;;;AAAA;;IAAYA,G;;;;AAEL,MAAMC,aAAN,CAAoB;AACvB;;;;;;;AAOA,WAAOC,gBAAP,CAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,aAA/C,EAA8D;AAC1D,cAAMC,aAAa;AACfC,gBAAIP,IAAIQ,MAAJ,GACCC,OADD,GAECC,QAFD,GAGCC,QAHD,EADW;AAKfC,kBAAMZ,IAAIa,MAAJ,GACDC,GADC,CACGT,aADH,EAEDU,IAFC,GAGDJ,QAHC;AALS,SAAnB;;AAWA,YAAIP,SAAJ,EAAe;AACXY,mBAAOC,MAAP,CAAcX,WAAWC,EAAzB,EAA6BD,WAAWC,EAAX,CAAcW,KAAd,CAAoB,IAApB,CAA7B;AACH;;AAED,cAAMC,SAASnB,IAAIoB,MAAJ,GAAaC,IAAb,CAAkBf,UAAlB,CAAf;;AAEA,YAAIH,UAAJ,EAAgB;AACZa,mBAAOC,MAAP,CAAcE,MAAd,EAAsBA,OAAOR,QAAP,EAAtB;AACH,SAFD,MAEO;AACHK,mBAAOC,MAAP,CAAcE,MAAd,EAAsBA,OAAOG,QAAP,EAAtB;AACH;;AAED,eAAOH,MAAP;AACH;AAjCsB;QAAdlB,a,GAAAA,a","file":"HelpersSchema.js","sourcesContent":["import * as Joi from 'joi';\n\nexport class HelpersSchema {\n    /**\n     * Base id|name object schema\n     * @param {boolean} isRequired\n     * @param {boolean} allowNull\n     * @param {number} maxNameLength\n     * @returns {Promise.<StudentSchoolDto>}\n     */\n    static baseIdNameSchema(isRequired, allowNull, maxNameLength) {\n        const baseSchema = {\n            id: Joi.number()\n                .integer()\n                .positive()\n                .required(),\n            name: Joi.string()\n                .max(maxNameLength)\n                .trim()\n                .required(),\n        };\n\n        if (allowNull) {\n            Object.assign(baseSchema.id, baseSchema.id.allow(null));\n        }\n\n        const schema = Joi.object().keys(baseSchema);\n\n        if (isRequired) {\n            Object.assign(schema, schema.required());\n        } else {\n            Object.assign(schema, schema.optional());\n        }\n\n        return schema;\n    }\n}\n"]}