{"version":3,"sources":["../../src/schemas/UserSchoolSchema.js"],"names":["Joi","UserSchoolSchema","AppSchema","body","date","Date","currentYear","getFullYear","object","keys","school","HelpersSchema","baseIdNameSchema","rules","maxSchoolNameLength","degree","maxIdentityNameLength","fieldOfStudy","location","id","number","integer","positive","required","options","language","base","name","string","trim","optional","fromYear","min","max","toYear","isCurrent","boolean"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;AACA;;AACA;;;;AAEe,MAAMC,gBAAN,SAA+BC,oBAA/B,CAAyC;;AAEpD,QAAIC,IAAJ,GAAW;AACP,cAAMC,OAAO,IAAIC,IAAJ,EAAb;AACA,cAAMC,cAAcF,KAAKG,WAAL,EAApB;;AAEA,eAAOP,IAAIQ,MAAJ,GACFC,IADE,CACG;AACFC,oBAAQC,6BAAcC,gBAAd,CAA+B,IAA/B,EAAqC,IAArC,EAA2CC,aAAMC,mBAAjD,CADN;AAEFC,oBAAQJ,6BAAcC,gBAAd,CAA+B,KAA/B,EAAsC,IAAtC,EAA4CC,aAAMG,qBAAlD,CAFN;AAGFC,0BAAcN,6BAAcC,gBAAd,CAA+B,KAA/B,EAAsC,IAAtC,EAA4CC,aAAMG,qBAAlD,CAHZ;AAIFE,sBAAUlB,IAAIQ,MAAJ,GACLC,IADK,CACA;AACFU,oBAAInB,IAAIoB,MAAJ,GACCC,OADD,GAECC,QAFD,GAGCC,QAHD,GAICC,OAJD,CAIS;AACLC,8BAAU;AACNL,gCAAQ;AACJM,kCAAM;AADF;AADF;;AADL,iBAJT,CADF;AAaFC,sBAAM3B,IAAI4B,MAAJ,GAAaC,IAAb,GAAoBN,QAApB;AAbJ,aADA,EAgBLO,QAhBK,EAJR;AAqBFC,sBAAU/B,IAAIoB,MAAJ,GACLC,OADK,GAELC,QAFK,GAGLU,GAHK,CAGDnB,aAAMkB,QAHL,EAILE,GAJK,CAID3B,WAJC,EAKLwB,QALK,EArBR;AA2BFI,oBAAQlC,IAAIoB,MAAJ,GACHC,OADG,GAEHC,QAFG,GAGHW,GAHG,CAGCpB,aAAMqB,MAHP,EAIHJ,QAJG,EA3BN;AAgCFK,uBAAWnC,IAAIoC,OAAJ,GACNb,QADM;AAhCT,SADH,CAAP;AAoCH;AA1CmD;kBAAnCtB,gB","file":"UserSchoolSchema.js","sourcesContent":["import * as Joi from 'joi';\nimport { AppSchema } from '../utils/validation/AppSchema';\nimport { rules } from '../resources/users';\nimport { HelpersSchema } from './HelpersSchema';\n\nexport default class UserSchoolSchema extends AppSchema {\n\n    get body() {\n        const date = new Date();\n        const currentYear = date.getFullYear();\n\n        return Joi.object()\n            .keys({\n                school: HelpersSchema.baseIdNameSchema(true, true, rules.maxSchoolNameLength),\n                degree: HelpersSchema.baseIdNameSchema(false, true, rules.maxIdentityNameLength),\n                fieldOfStudy: HelpersSchema.baseIdNameSchema(false, true, rules.maxIdentityNameLength),\n                location: Joi.object()\n                    .keys({\n                        id: Joi.number()\n                            .integer()\n                            .positive()\n                            .required()\n                            .options({\n                                language: {\n                                    number: {\n                                        base: 'id in location must be a number',\n                                    }\n                                }\n\n                            }),\n                        name: Joi.string().trim().required(),\n                    })\n                    .optional(),\n                fromYear: Joi.number()\n                    .integer()\n                    .positive()\n                    .min(rules.fromYear)\n                    .max(currentYear)\n                    .optional(),\n                toYear: Joi.number()\n                    .integer()\n                    .positive()\n                    .max(rules.toYear)\n                    .optional(),\n                isCurrent: Joi.boolean()\n                    .required(),\n            });\n    }\n}\n"]}