{"version":3,"sources":["../../src/schemas/UserSignUpSchema.js"],"names":["Joi","UserSignUpSchema","AppSchema","constructor","i18nService","TokenLifeTimeSchema","PasswordSchema","tokenLifeTimeSchema","i18Service","passwordSchema","body","allowedTypes","Object","keys","userTypes","map","key","object","email","string","required","type","number","integer","valid","password","concat"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;AACA;;;;AAEe,MAAMC,gBAAN,SAA+BC,oBAA/B,CAAyC;;AAEpDC,gBAAY,EAAEC,WAAF,EAAeC,mBAAf,EAAoCC,cAApC,EAAZ,EAAkE;AAC9D;AACA,aAAKC,mBAAL,GAA2BF,mBAA3B;AACA,aAAKG,UAAL,GAAkBJ,WAAlB;AACA,aAAKK,cAAL,GAAsBH,cAAtB;AACH;AACD,QAAII,IAAJ,GAAW;AACP,cAAMC,eAAeC,OAAOC,IAAP,CAAYC,gBAAZ,EAAuBC,GAAvB,CAA2BC,OAAOF,iBAAUE,GAAV,CAAlC,CAArB;;AAEA,eAAOhB,IAAIiB,MAAJ,GACFJ,IADE,CACG;AACFK,mBAAOlB,IAAImB,MAAJ,GAAaD,KAAb,GAAqBE,QAArB,EADL;AAEFC,kBAAMrB,IAAIsB,MAAJ,GACDC,OADC,GAEDC,KAFC,CAEKb,YAFL,EAGDS,QAHC,EAFJ;AAMFK,sBAAU,KAAKhB,cAAL,CAAoBgB;AAN5B,SADH,EASFC,MATE,CASK,KAAKnB,mBAAL,CAAyBG,IAT9B,CAAP;AAUH;AArBmD;kBAAnCT,gB","file":"UserSignUpSchema.js","sourcesContent":["import * as Joi from 'joi';\nimport { AppSchema } from '../utils/validation/AppSchema';\nimport { userTypes  } from '../resources/users';\n\nexport default class UserSignUpSchema extends AppSchema {\n\n    constructor({ i18nService, TokenLifeTimeSchema, PasswordSchema }) {\n        super();\n        this.tokenLifeTimeSchema = TokenLifeTimeSchema;\n        this.i18Service = i18nService;\n        this.passwordSchema = PasswordSchema;\n    }\n    get body() {\n        const allowedTypes = Object.keys(userTypes).map(key => userTypes[key]);\n\n        return Joi.object()\n            .keys({\n                email: Joi.string().email().required(),\n                type: Joi.number()\n                    .integer()\n                    .valid(allowedTypes)\n                    .required(),\n                password: this.passwordSchema.password\n            })\n            .concat(this.tokenLifeTimeSchema.body);\n    }\n}\n"]}