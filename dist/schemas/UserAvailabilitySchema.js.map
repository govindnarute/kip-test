{"version":3,"sources":["../../src/schemas/UserAvailabilitySchema.js"],"names":["Joi","UserAvailabilitySchema","AppSchema","body","allowedId","userAvailabilityTypes","map","item","id","object","keys","connections","number","integer","min","max","allow","required","availableFor","valid","name","string","trim"],"mappings":";;;;;;AAAA;;IAAYA,G;;AACZ;;AACA;;;;AAEe,MAAMC,sBAAN,SAAqCC,oBAArC,CAA+C;;AAE1D,QAAIC,IAAJ,GAAW;AACP,cAAMC,YAAYC,6BAAsBC,GAAtB,CAA0BC,QAAQA,KAAKC,EAAvC,CAAlB;;AAEA,eAAOR,IAAIS,MAAJ,GACFC,IADE,CACG;AACFC,yBAAaX,IAAIY,MAAJ,GACRC,OADQ,GAERC,GAFQ,CAEJ,CAFI,EAGRC,GAHQ,CAGJ,EAHI,EAIRC,KAJQ,CAIF,IAJE,EAKRC,QALQ,EADX;AAOFC,0BAAclB,IAAIS,MAAJ,GACTC,IADS,CACJ;AACFF,oBAAIR,IAAIY,MAAJ,GACCC,OADD,GAECM,KAFD,CAEOf,SAFP,EAGCa,QAHD,EADF;AAKFG,sBAAMpB,IAAIqB,MAAJ,GACDC,IADC,GAEDL,QAFC;AALJ,aADI,EAUTA,QAVS;AAPZ,SADH,CAAP;AAoBH;AAzByD;kBAAzChB,sB","file":"UserAvailabilitySchema.js","sourcesContent":["import * as Joi from 'joi';\nimport { AppSchema } from '../utils/validation/AppSchema';\nimport { userAvailabilityTypes } from '../resources/users';\n\nexport default class UserAvailabilitySchema extends AppSchema {\n\n    get body() {\n        const allowedId = userAvailabilityTypes.map(item => item.id);\n\n        return Joi.object()\n            .keys({\n                connections: Joi.number()\n                    .integer()\n                    .min(0)\n                    .max(10)\n                    .allow(null)\n                    .required(),\n                availableFor: Joi.object()\n                    .keys({\n                        id: Joi.number()\n                            .integer()\n                            .valid(allowedId)\n                            .required(),\n                        name: Joi.string()\n                            .trim()\n                            .required(),\n                    })\n                    .required(),\n            });\n    }\n}\n"]}