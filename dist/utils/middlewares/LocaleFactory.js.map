{"version":3,"sources":["../../../src/utils/middlewares/LocaleFactory.js"],"names":["LocaleFactory","setLocale","i18nService","req","res","next","headers","split"],"mappings":";;;;;AAAO,MAAMA,aAAN,CAAoB;AACvB;;;AAGA,WAAOC,SAAP,CAAiB,EAAEC,WAAF,EAAjB,EAAkC;AAC9B,eAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACvB,gBAAI,CAACF,IAAIG,OAAJ,CAAY,iBAAZ,CAAD,IAAmCH,IAAIG,OAAJ,CAAY,iBAAZ,MAAmC,GAA1E,EAA+E;AAC3E,uBAAOD,MAAP;AACH;AACD,gBAAIF,IAAIG,OAAJ,CAAY,iBAAZ,EAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CAAJ,EAAkD;AAC9CL,4BAAYD,SAAZ,CAAsBE,IAAIG,OAAJ,CAAY,iBAAZ,EAA+BC,KAA/B,CAAqC,GAArC,EAA0C,CAA1C,CAAtB;AACA,uBAAOF,MAAP;AACH;AACDH,wBAAYD,SAAZ,CAAsBE,IAAIG,OAAJ,CAAY,iBAAZ,CAAtB;AACAD;AACH,SAVD;AAWH;AAhBsB;QAAdL,a,GAAAA,a","file":"LocaleFactory.js","sourcesContent":["export class LocaleFactory {\n    /**\n     * @return {function(*, *, *)}\n     */\n    static setLocale({ i18nService }) {\n        return (req, res, next) => {\n            if (!req.headers['accept-language'] || req.headers['accept-language'] === '*') {\n                return next();\n            }\n            if (req.headers['accept-language'].split('-')[1]) {\n                i18nService.setLocale(req.headers['accept-language'].split('-')[0]);\n                return next();\n            }\n            i18nService.setLocale(req.headers['accept-language']);\n            next();\n        };\n    }\n}\n"]}