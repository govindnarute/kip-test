{"version":3,"sources":["../../../src/utils/middlewares/TimeoutCounterFactory.js"],"names":["TimeoutCounterFactory","startCounter","config","req","res","next","setTimeout","finished","GatewayTimeOutError","server","timeOut"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,qBAAN,CAA4B;AAC/B;;;AAGA,WAAOC,YAAP,CAAoB,EAAEC,MAAF,EAApB,EAAgC;AAC5B,eAAO,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AACvBC,uBAAW,MAAM;AACb,oBAAG,CAACF,IAAIG,QAAR,EAAkB;AACd,2BAAOF,KAAK,IAAIG,yBAAJ,EAAL,CAAP;AACH;AACJ,aAJD,EAIGN,OAAOO,MAAP,CAAcC,OAJjB;;AAMAL;AACH,SARD;AASH;AAd8B;QAAtBL,qB,GAAAA,qB","file":"TimeoutCounterFactory.js","sourcesContent":["import { GatewayTimeOutError } from '../http';\n\nexport class TimeoutCounterFactory {\n    /**\n     * @return {function(*, *, *)}\n     */\n    static startCounter({ config }) {\n        return (req, res, next) => {\n            setTimeout(() => {\n                if(!res.finished) {\n                    return next(new GatewayTimeOutError());\n                }\n            }, config.server.timeOut);\n\n            next();\n        };\n    }\n}\n"]}