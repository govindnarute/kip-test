{"version":3,"sources":["../../src/controllers/AutocompleteController.js"],"names":["AutocompleteController","constructor","AutocompleteService","DBConnection","autocompleteService","School","model","Location","Degree","FieldOfStudy","Company","Industry","Function","Expertise","Credential","getLocations","request","list","count","setScopesAndGetList","query","AutocompleteListDto","PaginationHelper","buildPagination","getSchools","getDegrees","getFieldsOfStudy","getCompanies","getIndustries","getFunctions","getExpertise","getCredentials"],"mappings":"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","file":"AutocompleteController.js","sourcesContent":["import { PaginationHelper } from '../helpers/PaginationHelper';\nimport { AutocompleteListDto } from '../models/autocomplete/AutocompleteListDto';\n\nexport default class AutocompleteController {\n    constructor({ AutocompleteService, DBConnection }) {\n        this.autocompleteService = AutocompleteService;\n        this.School = DBConnection.model('School');\n        this.Location = DBConnection.model('Location');\n        this.Degree = DBConnection.model('Degree');\n        this.FieldOfStudy = DBConnection.model('FieldOfStudy');\n        this.Company = DBConnection.model('Company');\n        this.Industry = DBConnection.model('Industry');\n        this.Function = DBConnection.model('Function');\n        this.Expertise = DBConnection.model('Expertise');\n        this.Credential = DBConnection.model('Credential');\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getLocations(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Location, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getSchools(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.School, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getDegrees(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Degree, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getFieldsOfStudy(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.FieldOfStudy, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getCompanies(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Company, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getIndustries(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Industry, request.query, true);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getFunctions(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Function, request.query, true);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getExpertise(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Expertise, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n\n    /**\n     * @param {e.Request} request\n     * @returns {Promise<AutocompleteListDto>}\n     */\n    async getCredentials(request) {\n        const { list, count } = await this.autocompleteService.setScopesAndGetList(this.Credential, request.query);\n\n        return new AutocompleteListDto(list, PaginationHelper.buildPagination(request.query, count));\n    }\n}\n"]}